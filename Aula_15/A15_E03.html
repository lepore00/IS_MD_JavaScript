<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Aula 15 - Ex 03 (Busca)</title>
</head>

<body>
    <h1>Aula 15 - Ex 03 (Busca)</h1>

    <input type="text" id="busca" placeholder="Buscar por tÃ­tulo">
    <ul id="lista"></ul>

    <script>
        let input = document.getElementById("busca");
        let lista = document.getElementById("lista");
        let dados = [];

        fetch("https://jsonplaceholder.typicode.com/posts")
            .then(function (resposta) {
                return resposta.json();
            })
            .then(function (posts) {
                dados = posts;
                renderizar(posts);
            });

        function renderizar(posts) {
            lista.innerHTML = "";

            posts.forEach(function (post) {
                let li = document.createElement("li");
                li.innerText = post.title;
                lista.appendChild(li);
            });
        }

        input.addEventListener("input", function () {
            let termo = input.value.toLowerCase();

            let filtrados = dados.filter(function (post) {
                return post.title.toLowerCase().includes(termo);
            });

            renderizar(filtrados);
        });
    </script>
</body>

</html>